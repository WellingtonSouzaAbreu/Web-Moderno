<video id="meu-video" width="800px" height="450px" controls controlsList="nodownload">
    <!-- autoplay -->
    <source src="http://files.cod3r.com.br/curso-web/video.mp4">
    <source src="http://files.cod3r.com.br/curso-web/video.mp4">
    <!-- O source permite que varios formatos sejam setados -->
    Seu browser n√£o suporta esse video
</video>

<div wm-progresso="meu-video" class="progresso">
    <div></div>
</div>

<div class="controls">
    <button wm-play="meu-video">Play</button>
    <button wm-pause="meu-video">Pause</button>
</div>

<style>
    .progresso {
        height: 20px;
        width: 780px;
        border: 1px solid #444;
        margin: 20px;
    }

    .progresso>div {
        color: white;
        height: 100%;
        text-align: right;
        font-size: 14px;

        background-color: red;
    }


    .controls {
        margin-left: 20px;
    }
</style>

<script>
    function configurarVideo(id) {
        const video = document.getElementById(id)
        video.oncontextmenu = () => false  // Bloqueia o right clique do mouse

        document.querySelector(`[wm-play=${id}]`).onclick = e => video.play()
        document.querySelector(`[wm-pause=${id}]`).onclick = e => video.pause()

        setInterval(() => {
            const percentual = (video.currentTime / video.duration) * 100

            const barra = document.querySelector(`[wm-progresso=${id}]>div`)
            barra.style.width = `${percentual}%`
            barra.innerHTML = `${percentual.toFixed(1)}%`
        }, 500)

    }


    configurarVideo('meu-video')










    /* let btPlay = document.querySelector('[wm-play]')
    let btPause = document.querySelector('[wm-pause]')
    let video = document.getElementById('meu-video')


    btPlay.addEventListener('click', play)
    btPause.addEventListener('click', pause)

    function play(btPlay){
        video.play()
        setInterval(video => {
            let barra = document.querySelector('.progresso > div')
            barra.style.width = (Number.parseInt(barra.style.width) + 1) + '%'
    }, 1000)
    }

    function pause(btPause){
        video.pause()
    } */
</script>